function createCookie(e,t,i,s={}){if(i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var n="; expires="+a.toGMTString()}else n="";var o=e+"="+encodeURIComponent(t)+n+"; path=/";for(let e in s){o+="; "+e;let t=s[e];!0!==t&&(o+="="+t)}document.cookie=o}function readCookie(e){for(var t=e+"=",i=document.cookie.split(";"),s=0;s<i.length;s++){for(var a=i[s];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}var widgets=function(){var widgets={preloaderURL:"/shared/images/preloader.gif",addToCart:function(e,t,i,s){var a=1;return t=Number(t),i=Number(i),$.post("/my/s3/export/shop/product.php",{mode:"json",action:"get-product",shop_id:e,product_id:t},(function(n){if(widgets.isEmptyObject(n)&&"string"==typeof s.href)return location.href=s.href,!0;n&&null!=n.product_price&&(i=Number(n.product_price));var o=!0,r=a,l="1"==n.product_amount_limit;if(l&&(r=Number(n.product_amount))<a&&(a=r),!isNaN(e)&&e>0&&!isNaN(t)&&t>0&&!isNaN(i)&&!isNaN(a)&&a>0){var c,d,h,f="",_=!1,u=0,g=readCookie("CART_TOTAL_"+e),p=unescape(readCookie("CART_"+e)).split(";");isNaN(g)&&(g=Number(g));for(var m=0;m<p.length;m++)2==(c=p[m].split("=")).length&&(_||c[0]!=t?(""!=f&&(f+=";"),f=f+c[0]+"="+c[1],u+=Number(c[1])):(l&&c[1]>=r||(g=Number(g)+i*a),d=a+Number(c[1]),l&&d>r&&(d=r,o=!1,widgets.msg(window._s3Lang.JS_SHOP_PRODUCT_AMOUNT_TOTAL+": "+r,s)),_=!0,""!=f&&(f+=";"),f=f+t+"="+d,u+=d));return _||(""!=f&&(f+=";"),f=f+t+"="+a,g=Number(g)+i*a,u+=a),g=Math.round(100*g)/100,createCookie("CART_"+e,f,10),createCookie("CART_TOTAL_"+e,g,10),createCookie("CART_TOTAL_AMOUNT_"+e,u,10),(h=document.getElementById("cart_total"))&&(h.innerHTML=g),(h=document.getElementById("cart_total_amount"))&&(h.innerHTML=u),o&&widgets.msg(window._s3Lang.JS_ADDED,s),!0}}),"json"),!1},formatPrice:function(e,t,i){"string"!=typeof e&&(e=String(e)),null==t&&(t=" "),null==i&&(i="."),"."!=i&&(e=e.replace(".",i));var s,a=e.split(i),n=[];if(a[0].length>=4){for(s=a[0].length-1,j=1;s>=0;--s,++j)n.unshift(a[0].charAt(s)),j%3==0&&s>0&&n.unshift(t);return n.join("")+(a[1]?i+a[1]:"")}return e},addOnloadEvent:function(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t&&t(),e()}},msg:function(e,t,i){if(t){var s=findPos(t),a=document.createElement("DIV");if(a){a.style.position="absolute",a.innerHTML=e,a.style.display="block",a.className=i||"added-to-cart",a.style.left=s.x+t.offsetWidth+"px",a.style.top=s.y+t.offsetHeight+"px";try{$(window).width()<=parseInt(a.style.left)+120&&(a.style.left=s.x-80+"px",a.style.top=s.y+t.offsetHeight+"px")}catch(e){}document.body.appendChild(a),window.setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a),delete a}),1500)}}},createPreloader:function(node){var pos=findPos(node),div=document.createElement("div");with(div.style)position="absolute",display="block",left=pos.x+node.offsetWidth+"px",top=pos.y+node.offsetHeight+"px",width=32,height=32,background="url("+this.preloaderURL+") center center no-repeat transparent",zIndex=2e3;return div},addEvent:function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0}};function parseQuery(e){var t={};return"?"===e.charAt(0)&&(e=e.slice(1)),e.split("&").forEach((function(e){var i,s=e.split("="),a=s[0];2===s.length&&(i=s[1]),t[a]=i})),t}function loadScript(e){var t=document.createElement("script");t.src=e,(document.head||document.body).appendChild(t)}window.findPos=function(e){var t={x:0,y:0};if(e.offsetParent)for(;e.offsetParent;)t.y+=e.offsetTop,t.x+=e.offsetLeft,e=e.offsetParent;else e.x&&(t.x+=e.x),e.y&&(t.y+=e.y);return t},String.prototype.trim=function(e){var t=e||"[\\t\\s\\n\\r]";return this.replace(new RegExp("^"+t+"+"),"").replace(new RegExp(t+"+$"),"")};var query=parseQuery(location.search);return eraseCookie("IS_CSSPATCH"),"debug"in query||sessionStorage.getItem("csspatchDebug")?(loadScript("//debug-frontend.oml.ru/g/s3/csspatch/csspatch.client.js?_="+Date.now()),sessionStorage.setItem("csspatchDebug",1)):("csspatch"in query||sessionStorage.getItem("csspatch"))&&window.top!==window.self&&(loadScript("/g/s3/csspatch/csspatch.client.js?_="+Date.now()),sessionStorage.setItem("csspatch",1),createCookie("IS_CSSPATCH",1,1,{SameSite:"None",Secure:!0})),("fastEdit"in query||sessionStorage.getItem("fastedit"))&&(loadScript("/my/s3/js/fastedit.client.js?_="+Date.now()),sessionStorage.setItem("fastedit",1)),widgets}(),A_TCALDEF={months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"],yearscroll:!0,weekstart:0,centyear:70,imgpath:"/my/s3/images/calendar/",close:window._s3Lang.JS_CLOSE_CALENDAR||"",open:window._s3Lang.JS_OPEN_CALENDAR||""},RU_TCALDEF={months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],yearscroll:!0,weekstart:1,centyear:70,imgpath:"/my/s3/images/calendar/",close:"Закрыть календарь",open:"Открыть календарь"};function f_tcalParseDate(e){if(!/^\s*(\d{1,2})\.(\d{1,2})\.(\d{2,4})\s*$/.exec(e))return alert("Invalid date: '"+e+"'.\nAccepted format is mm/dd/yyyy.");var t=Number(RegExp.$1),i=Number(RegExp.$2),s=Number(RegExp.$3);if(s<100&&(s+=s<this.a_tpl.centyear?2e3:1900),i<1||i>12)return alert("Invalid month value: '"+i+"'.\nAllowed range is 01-12.");var a=new Date(s,i,0);return t>a.getDate()?alert("Invalid day of month value: '"+t+"'.\nAllowed range for selected month is 01 - "+a.getDate()+"."):new Date(s,i-1,t)}function f_tcalGenerDate(e){return(e.getDate()<10?"0":"")+e.getDate()+"."+(e.getMonth()<9?"0":"")+(e.getMonth()+1)+"."+e.getFullYear()}function tcal(e,t){if(t||(t=e.lang&&"ru"==e.lang?RU_TCALDEF:A_TCALDEF),window.A_TCALS||(window.A_TCALS=[]),window.A_TCALSIDX||(window.A_TCALSIDX=[]),this.s_id=e.id?e.id:A_TCALS.length,window.A_TCALS[this.s_id]=this,window.A_TCALSIDX[window.A_TCALSIDX.length]=this,this.f_show=f_tcalShow,this.f_hide=f_tcalHide,this.f_toggle=f_tcalToggle,this.f_update=f_tcalUpdate,this.f_relDate=f_tcalRelDate,this.f_parseDate=f_tcalParseDate,this.f_generDate=f_tcalGenerDate,this.s_iconId="tcalico_"+this.s_id,this.e_icon=f_getElement(this.s_iconId),!this.e_icon){var i=document.createElement("div");i.innerHTML='<img src="'+t.imgpath+'cal.gif" id="'+this.s_iconId+'" onclick="A_TCALS[\''+this.s_id+'\'].f_toggle()" class="tcalIcon" alt="#JS_OPEN_CALENDAR#|s3_localize" />',e.place.appendChild(i.firstChild),this.e_icon=f_getElement(this.s_iconId)}this.a_cfg=e,this.a_tpl=t}function f_tcalShow(e){if(!this.a_cfg.controlname)throw"TC: control name is not specified";if(this.a_cfg.formname){var t=document.forms[this.a_cfg.formname];if(!t)throw"TC: form '"+this.a_cfg.formname+"' can not be found";this.e_input=t.elements[this.a_cfg.controlname]}else this.e_input=this.a_cfg.place.querySelector('input[id="'+this.a_cfg.controlname+'"]');if(!this.e_input||!this.e_input.tagName||"INPUT"!=this.e_input.tagName)throw"TC: element '"+this.a_cfg.controlname+"' does not exist in "+(this.a_cfg.formname?"form '"+this.a_cfg.controlname+"'":"this document");this.e_div=f_getElement("tcal"),this.e_div||(this.e_div=document.createElement("DIV"),this.e_div.id="tcal",document.body.appendChild(this.e_div)),this.e_iframe=f_getElement("tcalIF"),b_ieFix&&!this.e_iframe&&(this.e_iframe=document.createElement("IFRAME"),this.e_iframe.style.filter="alpha(opacity=0)",this.e_iframe.id="tcalIF",this.e_iframe.src=this.a_tpl.imgpath+"pixel.gif",document.body.appendChild(this.e_iframe)),f_tcalHideAll(),this.e_icon=f_getElement(this.s_iconId),this.e_div.style.display="block",this.e_iframe&&(this.e_iframe.style.display="block"),this.f_update()&&(this.e_div.style.visibility="visible",this.e_div.style.display="block",this.e_iframe&&(this.e_iframe.style.visibility="visible",this.e_iframe.style.display="block"),this.e_icon.src=this.a_tpl.imgpath+"no_cal.gif",this.e_icon.title=this.a_tpl.close,this.b_visible=!0)}function f_tcalHide(e){e&&(this.e_input.value=this.f_generDate(new Date(e))),this.b_visible&&(this.e_iframe&&(this.e_iframe.style.visibility="hidden",this.e_iframe.style.display="none"),this.e_div.style.visibility="hidden",this.e_div.style.display="none",this.e_icon=f_getElement(this.s_iconId),this.e_icon.src=this.a_tpl.imgpath+"cal.gif",this.e_icon.title=window._s3Lang.JS_OPEN_CALENDAR,this.b_visible=!1)}function f_tcalToggle(){return this.b_visible?this.f_hide():this.f_show()}function f_tcalUpdate(e){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);var i=this.a_cfg.today?this.f_parseDate(this.a_cfg.today):t,s=""==this.e_input.value?this.a_cfg.selected?this.f_parseDate(this.a_cfg.selected):i:this.f_parseDate(this.e_input.value);if(e?"number"==typeof e?e=new Date(e):"string"==typeof e&&this.f_parseDate(e):e=s,!e)return!1;var a=new Date(e);a.setDate(1),a.setDate(1-(7+a.getDay()-this.a_tpl.weekstart)%7);for(var n,o='<table class="ctrl"><tbody><tr>'+(this.a_tpl.yearscroll?"<td"+this.f_relDate(e,-1,"y")+' title="Previous Year"><img src="'+this.a_tpl.imgpath+'prev_year.gif" /></td>':"")+"<td"+this.f_relDate(e,-1)+' title="Previous Month"><img src="'+this.a_tpl.imgpath+'prev_mon.gif" /></td><th>'+this.a_tpl.months[e.getMonth()]+" "+e.getFullYear()+"</th><td"+this.f_relDate(e,1)+' title="Next Month"><img src="'+this.a_tpl.imgpath+'next_mon.gif" /></td>'+(this.a_tpl.yearscroll?"<td"+this.f_relDate(e,1,"y")+' title="Next Year"><img src="'+this.a_tpl.imgpath+'next_year.gif" /></td></td>':"")+'</tr></tbody></table><table><tbody><tr class="wd">',r=0;r<7;r++)o+="<th>"+this.a_tpl.weekdays[(this.a_tpl.weekstart+r)%7]+"</th>";o+="</tr>";for(var l=new Date(a);l.getMonth()==e.getMonth()||l.getMonth()==a.getMonth();){o+="<tr>";for(var c=0;c<7;c++)n=[],l.getMonth()!=e.getMonth()&&(n[n.length]="othermonth"),0!=l.getDay()&&6!=l.getDay()||(n[n.length]="weekend"),l.valueOf()==i.valueOf()&&(n[n.length]="today"),l.valueOf()==s.valueOf()&&(n[n.length]="selected"),o+="<td onclick=\"A_TCALS['"+this.s_id+"'].f_hide("+l.valueOf()+')"'+(n.length?' class="'+n.join(" ")+'">':">")+l.getDate()+"</td>",l.setDate(l.getDate()+1);o+="</tr>"}o+="</tbody></table>",this.e_div.innerHTML=o;var d=this.e_div.offsetWidth,h=this.e_div.offsetHeight,f=f_getPosition(this.e_icon,"Top")+this.e_icon.offsetHeight,_=f_getPosition(this.e_icon,"Left")-d+this.e_icon.offsetWidth;return _<0&&(_=0),this.e_div.style.left=_+"px",this.e_div.style.top=f+"px",this.e_iframe&&(this.e_iframe.style.left=_+"px",this.e_iframe.style.top=f+"px",this.e_iframe.style.width=d+6+"px",this.e_iframe.style.height=h+6+"px"),!0}function f_getPosition(e,t){for(var i,s=0,a=e;a;)s+=i=a["offset"+t],a=a.offsetParent;for(b_ieMac?s+=parseInt(document.body[t.toLowerCase()+"Margin"]):b_safari&&(s-=i),a=e;a!=document.body;)(i=a["scroll"+t])&&"scroll"==a.style.overflow&&(s-=i),a=a.parentNode;return s}function f_tcalRelDate(e,t,i){i="y"==i?"FullYear":"Month";var s=new Date(e);return s["set"+i](e["get"+i]()+t),s.getDate()!=e.getDate()&&s.setDate(0)," onclick=\"A_TCALS['"+this.s_id+"'].f_update("+s.valueOf()+')"'}function f_tcalHideAll(){for(var e=0;e<window.A_TCALSIDX.length;e++)window.A_TCALSIDX[e].f_hide()}f_getElement=document.all?function(e){return document.all[e]}:function(e){return document.getElementById(e)};var s_userAgent=navigator.userAgent.toLowerCase(),re_webkit=/WebKit\/(\d+)/i,b_mac=-1!=s_userAgent.indexOf("mac"),b_ie5=-1!=s_userAgent.indexOf("msie 5"),b_ie6=-1!=s_userAgent.indexOf("msie 6")&&-1==s_userAgent.indexOf("opera"),b_ieFix=b_ie5||b_ie6,b_ieMac=b_mac&&b_ie5,b_safari=b_mac&&re_webkit.exec(s_userAgent)&&Number(RegExp.$1)<500;